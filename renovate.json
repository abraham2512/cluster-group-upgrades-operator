{
    "$schema": "https://docs.renovatebot.com/renovate-schema.json",
    "automergeStrategy": "rebase",
    "automergeType": "pr",
    "customManagers": [
        {
            "currentValueTemplate": "{{currentDigest}}",
            "customType": "regex",
            "datasourceTemplate": "docker",
            "depNameTemplate": "{{depName}}:{{tag}}",
            "fileMatch": [
                "^konflux_build_args.conf$"
            ],
            "matchStrings": [
                ".*=(?<depName>[^:]+):(?<tag>[^\\s@]+)(@(?<currentDigest>sha256:[0-9a-f]+))?"
            ],
            "versioningTemplate": "docker"
        }
    ],
    "extends": [
        "https://github.com/konflux-ci/mintmaker/blob/main/config/renovate/renovate.json?raw=true"
    ],
    "packageRules": [
        {
            "autoApprove": true,
            "automerge": true,
            "enabled": true,
            "ignoreTests": false,
            "matchManagers": [
                "custom.regex"
            ],
            "platformAutomerge": true
        }
    ],
    "pruneBranchAfterAutomerge": true,
    "pruneStaleBranches": true,
    "tekton": {
        "autoApprove": true,
        "automerge": true,
        "enabled": true,
        "fileMatch": [
            "\\.yaml$",
            "\\.yml$"
        ],
        "ignoreTests": false,
        "includePaths": [
            ".tekton/**"
        ],
        "platformAutomerge": true
    }
}
